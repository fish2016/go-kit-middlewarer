// Autogenerated code, do not change directly.
// To make changes to this file, please modify the templates at
// go-kit-middlewarer/tmpl/*.tmpl

// Package logging defines a function for creating a go-kit logging StringServiceMiddleware
package logging

import (
	"time"

	"github.com/go-kit/kit/log"

	

	"github.com/fish2016/go-kit-middlewarer/endpoint"
	middlewarer "github.com/fish2016/go-kit-middlewarer"
)

type loggingStringService struct {
	logger log.Logger
	middlewarer.StringService
	root middlewarer.StringService
}

// Middleware represents a middleware used to wrap a github.com/fish2016/go-kit-middlewarer.StringService and provides logging functionality.
func Middleware(logger log.Logger, root middlewarer.StringService) endpoint.StringServiceMiddleware {
	return func( next middlewarer.StringService ) middlewarer.StringService {
		return loggingStringService {
			logger: logger,
			StringService: next,
			root: root,
		}
	}
}


// Uppercase implements github.com/fish2016/go-kit-middlewarer.StringService
func (stringservice loggingStringService) Uppercase(str string) (upper string, err error) {
	defer func(begin time.Time){
		_ = stringservice.logger.Log(
			"method", endpoint.PathUppercase,
			
			"upper", upper,
"err", err,

			"str", str,

			"took", time.Since(begin),
		)
	}(time.Now())


	
	upper, err = stringservice.StringService.Uppercase(str)
	return
}

// Count implements github.com/fish2016/go-kit-middlewarer.StringService
func (stringservice loggingStringService) Count(str string) (count int) {
	defer func(begin time.Time){
		_ = stringservice.logger.Log(
			"method", endpoint.PathCount,
			
			"count", count,

			"str", str,

			"took", time.Since(begin),
		)
	}(time.Now())


	
	count = stringservice.StringService.Count(str)
	return
}




// Autogenerated code, do not change directly.
// To make changes to this file, please modify the templates at
// go-kit-middlewarer/tmpl/*.tmpl

// Package logging defines a function for creating a go-kit logging StringServiceMiddleware
package logging

import (
	"time"

	"github.com/go-kit/kit/log"

	

	"github.com/fish2016/go-kit-middlewarer/endpoint"
	middlewarer "github.com/fish2016/go-kit-middlewarer"
)

type loggingStringService struct {
	logger log.Logger
	middlewarer.StringService
	root middlewarer.StringService
}

// Middleware represents a middleware used to wrap a github.com/fish2016/go-kit-middlewarer.StringService and provides logging functionality.
func Middleware(logger log.Logger, root middlewarer.StringService) endpoint.StringServiceMiddleware {
	return func( next middlewarer.StringService ) middlewarer.StringService {
		return loggingStringService {
			logger: logger,
			StringService: next,
			root: root,
		}
	}
}


// Uppercase implements github.com/fish2016/go-kit-middlewarer.StringService
func (stringservice loggingStringService) Uppercase(str string) (upper string, err error) {
	defer func(begin time.Time){
		_ = stringservice.logger.Log(
			"method", endpoint.PathUppercase,
			
			"upper", upper,
"err", err,

			"str", str,

			"took", time.Since(begin),
		)
	}(time.Now())


	
	upper, err = stringservice.StringService.Uppercase(str)
	return
}

// Count implements github.com/fish2016/go-kit-middlewarer.StringService
func (stringservice loggingStringService) Count(str string) (count int) {
	defer func(begin time.Time){
		_ = stringservice.logger.Log(
			"method", endpoint.PathCount,
			
			"count", count,

			"str", str,

			"took", time.Since(begin),
		)
	}(time.Now())


	
	count = stringservice.StringService.Count(str)
	return
}




